#include <stdio.h>
#include <conio.h>
#include <stdlib.h>
#include <math.h>
int CT[10];
int n= 4;
int GTTN[10];
int kq;
int Max1,Max2;
int Max1moi=0, Max2moi=0;
int A[5],B[5];
# khoi tao quan the
void Taoquanthe(int n)
{
    for (int i=0;i< n; i++)
    {
        printf("nhap ca the thu %d:",i); scanf("$d",& CT[i]);
    }
}
##tinh gia tri thich nghi F=1000-(X*X-64)
void Giatrithichnghi(int n)
{
    for(int i=0; i<n; i++)
    {
        int gttn= 1000-(CT[i]*CT[i]-64);
        GTTN[i]=gttn;
    }
}
# kiem tra gia tri thich nghi de xuat ra ket qua
int Kiemtra(int n)
{
    for (int i=0; i<n; i++)
    {
        if(GTTN[i]==1000)
        return(CT[i]);
    }
    return 0;

}
#tim,chon loc ca the de lai(sap xep giam dan,lay hai ca the dau tien de lai voi nhau)
 Void Timcathelai()
{
    for(int i =0; i<n;i++) for(int j=i+1;j<n;j++)
    {
        if(GTTN[i]<GTTN[j])
        {
            int a= GTTN[i];
            GTTN[i]=GTTN[j];
            GTTN[j]=a;
        }
    }
    Max1=sqrt(1064-GTTN[0]);
    Max2= sqrt(1064-GTTN[1]);
}
# Lai ca the voi nhau:( ma hoa ca the ra nhi phan, thay doi cau truc nhi phan gay dot bien tao ca the moi,giai ma ca the moi ve thap phan)
void Laicathe()
{
    for (int i=0; i<5;i++)
    {
        A[i]=0;
        B[i]=0;

    }
    while(Max1!=0)
    {
        for( int j=0; j<5;j++)
        {
            A[j]=Max1%2;
            Max1 =Max1/2;
        }
    }
    while(Max2!=0)
    {
       
        for( int k=0; k<5;k++)
        {
            B[K]=Max2%2;
            Max2 =Max2/2;
        } 
    }
    for(int l=4;l>l;l--)
    {
        int b=A[l];
        A[l]=B[l];
        B[l]=b;

    }
    for(int m=4; m>=0;m--)
    {
        Max1moi=Max1moi+A[m]*pow(2,m);
        Max2moi=Max2moi+B[m]*pow(2,m);
    }
}
#Taoquanthemoi(ket hop cac ca the me va ca the con)
void Taoquanthemoi()
{
    CT[0]=Max1;
    CT[1]=Max2;
    CT[2]=Max1moi;
    CT[3]=Max2moi;
}
void main()
{
    clrscr();
    printf("Giai PT X*X =64,bang thuat toan di truyen");
    printf("tao quan the co 4 ca the");
    Taoquanthe(n);
    Giatrithichnghi(n);
    kq=Kiemtra(n);
    While(kq==0)
    {
        Timcathelai();
        Laicayhe();
        Taoquanthemoi();
        Giatrithichnghi();
        kq=Kiemtra(n);
    }
    printf("Ket qua phuong trinh la: %d",kq);
    getch();
}